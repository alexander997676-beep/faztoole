<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faz Tools Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        body { background: #050505; color: white; font-family: 'Outfit', sans-serif; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .container { max-width: 600px; width: 100%; }
        h1 { color: #7000ff; text-align: center; margin-bottom: 20px; }
        
        .form-box { background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px; border: 1px solid #333; margin-bottom: 30px; }
        input { width: 100%; padding: 12px; margin-bottom: 10px; background: #111; border: 1px solid #444; color: white; border-radius: 8px; }
        button { width: 100%; padding: 12px; background: #7000ff; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
        button:hover { background: #5500cc; }
        
        .app-list { list-style: none; padding: 0; }
        .app-item { background: rgba(255,255,255,0.03); border: 1px solid #222; margin-bottom: 10px; padding: 10px; display: flex; align-items: center; justify-content: space-between; border-radius: 8px; }
        .app-item img { width: 40px; height: 40px; object-fit: contain; margin-right: 10px; border-radius: 5px; }
        .info { flex-grow: 1; }
        .info h4 { margin: 0; font-size: 1rem; }
        .info span { font-size: 0.8rem; color: #888; }
        .del-btn { background: #ff0055; width: auto; padding: 5px 15px; font-size: 0.8rem; margin-left: 10px; }
    </style>
</head>
<body>

    <div class="container" id="adminPanel" style="display:none;">
        <h1>FAZ ADMIN PANEL</h1>

        <!-- ADD APP FORM -->
        <div class="form-box">
            <h3>Add New App</h3>
            <input type="text" id="title" placeholder="App Name (e.g. Movie Land)">
            <input type="text" id="desc" placeholder="Description (e.g. Cinematic Database)">
            <input type="text" id="image" placeholder="Image URL (Link to image)">
            <input type="text" id="link" placeholder="App Link (e.g. https://...)">
            <button onclick="addApp()">ADD APP TO SITE</button>
        </div>

        <!-- LIST OF APPS -->
        <h3>Manage Existing Apps</h3>
        <ul class="app-list" id="appList">
            <!-- Apps load here -->
        </ul>
    </div>

    <!-- FIREBASE SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

    <script>
        // --- SECURITY CHECK (Simple Password) ---
        const password = prompt("Enter Admin Password:");
        if(password === "admin123") {
            document.getElementById('adminPanel').style.display = 'block';
        } else {
            alert("Wrong Password!");
            window.location.href = "index.html"; // Redirect back
        }

        // --- FIREBASE CONFIG (SAME AS INDEX.HTML) ---
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY_HERE",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // --- ADD APP ---
        function addApp() {
            const title = document.getElementById('title').value;
            const desc = document.getElementById('desc').value;
            const image = document.getElementById('image').value;
            const link = document.getElementById('link').value;

            if(!title || !link) return alert("Title and Link are required!");

            db.collection("apps").add({
                title: title,
                desc: desc,
                image: image,
                link: link,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            }).then(() => {
                alert("App Added!");
                document.getElementById('title').value = "";
                document.getElementById('desc').value = "";
                document.getElementById('image').value = "";
                document.getElementById('link').value = "";
            }).catch((err) => alert("Error: " + err.message));
        }

        // --- LOAD & DELETE APPS ---
        db.collection("apps").orderBy("timestamp", "desc").onSnapshot(snapshot => {
            const list = document.getElementById('appList');
            list.innerHTML = "";
            snapshot.forEach(doc => {
                const app = doc.data();
                const li = document.createElement('li');
                li.className = 'app-item';
                li.innerHTML = `
                    <img src="${app.image}" alt="icon">
                    <div class="info">
                        <h4>${app.title}</h4>
                        <span>${app.desc}</span>
                    </div>
                    <button class="del-btn" onclick="deleteApp('${doc.id}')">DELETE</button>
                `;
                list.appendChild(li);
            });
        });

        function deleteApp(id) {
            if(confirm("Are you sure you want to delete this app?")) {
                db.collection("apps").doc(id).delete();
            }
        }
    </script>
</body>
</html>
